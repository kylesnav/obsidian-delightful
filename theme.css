/* ==========================================================================
   Delightful — Obsidian Theme
   A warm, neo-brutalist theme with OKLCH colors, solid offset shadows,
   thick borders, and playful radii.
   ========================================================================== */

@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap');

/* ==========================================================================
   Style Settings Plugin Support
   ========================================================================== */

/* @settings
name: Delightful
id: delightful-theme
settings:
  -
    id: delightful-colors
    title: Colors
    type: heading
    level: 1
  -
    id: delightful-accent-color
    title: Accent Color
    type: class-select
    default: accent-pink
    options:
      -
        label: Pink (default)
        value: accent-pink
      -
        label: Danger
        value: accent-danger
      -
        label: Gold
        value: accent-gold
      -
        label: Cyan
        value: accent-cyan
      -
        label: Green
        value: accent-green
  -
    id: delightful-style
    title: Style
    type: heading
    level: 1
  -
    id: delightful-shadow-style
    title: Shadow Style
    type: class-select
    default: shadow-normal
    options:
      -
        label: Neo-brutalist (default)
        value: shadow-normal
      -
        label: Subtle
        value: shadow-subtle
      -
        label: None
        value: shadow-none
  -
    id: delightful-border-weight
    title: Border Weight
    type: class-select
    default: border-normal
    options:
      -
        label: Neo-brutalist / 2px (default)
        value: border-normal
      -
        label: Subtle / 1px
        value: border-subtle
*/

/* ==========================================================================
   PRIMITIVES — OKLCH tokens from the Delightful Design System
   Referenced via var() throughout the theme for single-source-of-truth colors.
   ========================================================================== */

:root {
  /* Neutral scale — warm-tinted (hue 70, 800+ hue 60) */
  --d-neutral-0: oklch(1.00 0.000 0);
  --d-neutral-25: oklch(0.988 0.006 70);
  --d-neutral-50: oklch(0.980 0.008 70);
  --d-neutral-100: oklch(0.960 0.010 70);
  --d-neutral-150: oklch(0.940 0.012 70);
  --d-neutral-200: oklch(0.920 0.012 70);
  --d-neutral-300: oklch(0.860 0.014 70);
  --d-neutral-400: oklch(0.750 0.014 70);
  --d-neutral-500: oklch(0.600 0.012 70);
  --d-neutral-600: oklch(0.480 0.010 70);
  --d-neutral-700: oklch(0.350 0.010 70);
  --d-neutral-800: oklch(0.250 0.012 60);
  --d-neutral-900: oklch(0.180 0.012 60);
  --d-neutral-950: oklch(0.140 0.012 60);

  /* Accent families */
  --d-pink: oklch(0.640 0.270 350);
  --d-pink-hover: oklch(0.580 0.280 350);
  --d-pink-subtle: oklch(0.955 0.040 350);
  --d-pink-text: oklch(0.560 0.270 350);

  --d-danger: oklch(0.620 0.220 20);
  --d-danger-hover: oklch(0.570 0.230 20);
  --d-danger-subtle: oklch(0.950 0.040 20);
  --d-danger-text: oklch(0.550 0.220 20);

  --d-gold: oklch(0.840 0.175 85);
  --d-gold-hover: oklch(0.820 0.165 84);
  --d-gold-subtle: oklch(0.965 0.060 85);
  --d-gold-text: oklch(0.440 0.130 85);

  --d-cyan: oklch(0.650 0.148 210);
  --d-cyan-hover: oklch(0.600 0.150 210);
  --d-cyan-subtle: oklch(0.945 0.030 210);
  --d-cyan-text: oklch(0.520 0.148 210);

  --d-green: oklch(0.630 0.170 148);
  --d-green-hover: oklch(0.580 0.165 148);
  --d-green-subtle: oklch(0.945 0.035 148);
  --d-green-text: oklch(0.480 0.165 148);
}

/* ==========================================================================
   LIGHT MODE
   ========================================================================== */

.theme-light {
  color-scheme: light;
  --highlight-mix-blend-mode: darken;
  --mono-rgb-0: 255, 255, 255;
  --mono-rgb-100: 0, 0, 0;

  /* Color base scale — warm neutrals from Delightful (hue 70, dark text hue 60) */
  --color-base-00: oklch(0.995 0.004 70);      /* bg-surface */
  --color-base-05: oklch(0.988 0.006 70);      /* interpolated near-white */
  --color-base-10: oklch(0.982 0.008 70);      /* bg-page: warm cream */
  --color-base-20: oklch(0.965 0.012 70);      /* bg-subtle */
  --color-base-25: oklch(0.948 0.014 70);      /* bg-muted */
  --color-base-30: oklch(0.920 0.012 70);      /* neutral-200 */
  --color-base-35: oklch(0.860 0.014 70);      /* neutral-300 */
  --color-base-40: oklch(0.820 0.015 70);      /* border-subtle */
  --color-base-50: oklch(0.600 0.012 70);      /* neutral-500 */
  --color-base-60: oklch(0.560 0.012 60);      /* text-muted */
  --color-base-70: oklch(0.420 0.015 60);      /* text-secondary */
  --color-base-100: oklch(0.200 0.015 60);     /* text-primary: warm near-black */

  /* Accent (pink default) — HSL approximation for Obsidian's calc() derivations */
  --accent-h: 340;
  --accent-s: 75%;
  --accent-l: 55%;

  /* Extended semantic colors */
  --color-red: oklch(0.620 0.220 20);
  --color-red-rgb: 232, 78, 52;
  --color-orange: oklch(0.700 0.180 55);
  --color-orange-rgb: 210, 130, 30;
  --color-yellow: oklch(0.840 0.175 85);
  --color-yellow-rgb: 210, 190, 20;
  --color-green: oklch(0.630 0.170 148);
  --color-green-rgb: 12, 171, 79;
  --color-cyan: oklch(0.650 0.148 210);
  --color-cyan-rgb: 30, 160, 190;
  --color-blue: oklch(0.640 0.270 350);
  --color-blue-rgb: 50, 70, 220;
  --color-purple: oklch(0.550 0.200 300);
  --color-purple-rgb: 140, 50, 210;
  --color-pink: oklch(0.640 0.270 350);
  --color-pink-rgb: 210, 60, 140;

  /* Neo-brutalist shadows */
  --shadow-s: 2px 2px 0 oklch(0.200 0.015 60);
  --shadow-l: 4px 4px 0 oklch(0.200 0.015 60);

  /* Accent color — explicit override alongside HSL decomposition */
  --color-accent: var(--d-pink);
  --color-accent-hover: var(--d-pink-hover);

  /* Background modifiers */
  --background-modifier-hover: oklch(0.965 0.012 70);
  --background-modifier-active-hover: oklch(0.948 0.014 70);
  --background-modifier-border: oklch(0.920 0.012 70);
  --background-modifier-border-hover: oklch(0.860 0.014 70);
  --background-modifier-border-focus: var(--d-pink);
  --background-modifier-error: var(--d-danger-subtle);
  --background-modifier-error-hover: oklch(0.920 0.070 20);
  --background-modifier-success: var(--d-green-subtle);
  --background-modifier-message: var(--d-pink-subtle);
  --background-modifier-form-field: oklch(0.980 0.008 70);
  --background-modifier-box-shadow: oklch(0.200 0.015 60 / 0.15);
  --background-modifier-cover: oklch(0.200 0.015 60 / 0.30);

  /* Text */
  --text-normal: oklch(0.200 0.015 60);
  --text-muted: oklch(0.420 0.015 60);
  --text-faint: oklch(0.560 0.012 60);
  --text-on-accent: oklch(1.00 0.000 0);
  --text-on-accent-inverted: oklch(0.200 0.015 60);
  --text-error: var(--d-danger-text);
  --text-success: var(--d-green-text);
  --text-warning: var(--d-gold-text);
  --text-accent: var(--d-pink-text);
  --text-accent-hover: oklch(0.500 0.280 350);

  --text-highlight-bg: oklch(0.840 0.175 85 / 0.4);
  --text-highlight-bg-active: oklch(0.700 0.180 55 / 0.4);
  --text-selection: oklch(0.640 0.270 350 / 0.2);

  /* Bold / italic */
  --bold-color: oklch(0.200 0.015 60);
  --italic-color: inherit;

  /* Interactive */
  --interactive-normal: oklch(1.00 0.00 0);
  --interactive-hover: oklch(0.965 0.012 70);
  --interactive-accent: var(--d-pink);
  --interactive-accent-hover: var(--d-pink-hover);

  /* Inputs */
  --input-shadow: 2px 2px 0 oklch(0.200 0.015 60);
  --input-shadow-hover: 4px 4px 0 var(--d-pink);

  /* Code */
  --code-normal: var(--d-danger-text);
  --code-background: oklch(0.965 0.012 70);

  /* Tags */
  --tag-color: var(--d-pink-text);
  --tag-color-hover: oklch(0.500 0.280 350);
  --tag-background: var(--d-pink-subtle);
  --tag-background-hover: oklch(0.920 0.060 350);

  /* Links */
  --link-color: var(--d-pink-text);
  --link-color-hover: oklch(0.500 0.280 350);
  --link-decoration: underline;
  --link-decoration-hover: underline;
  --link-external-color: var(--d-pink-text);
  --link-external-color-hover: oklch(0.500 0.280 350);
  --link-external-decoration: underline;
  --link-unresolved-color: oklch(0.560 0.012 60);
  --link-unresolved-opacity: 0.7;

  /* Headings */
  --h1-color: oklch(0.200 0.015 60);
  --h2-color: oklch(0.200 0.015 60);
  --h3-color: oklch(0.220 0.015 60);
  --h4-color: oklch(0.250 0.015 60);
  --h5-color: oklch(0.300 0.015 60);
  --h6-color: oklch(0.420 0.015 60);

  /* Inline title (file name at top of note) */
  --inline-title-color: oklch(0.200 0.015 60);
  --inline-title-size: 2.488em;
  --inline-title-weight: 800;

  /* Navigation */
  --nav-item-color: oklch(0.420 0.015 60);
  --nav-item-color-hover: oklch(0.200 0.015 60);
  --nav-item-color-active: var(--d-pink-text);
  --nav-item-color-selected: oklch(0.200 0.015 60);
  --nav-item-background-hover: oklch(0.965 0.012 70);
  --nav-item-background-active: oklch(0.948 0.014 70);
  --nav-indentation-guide-color: oklch(0.920 0.012 70);

  /* Blockquote */
  --blockquote-border-color: var(--d-pink);
  --blockquote-color: oklch(0.420 0.015 60);
  --blockquote-background-color: oklch(0.980 0.008 70);

  /* Table */
  --table-header-background: oklch(0.965 0.012 70);
  --table-row-background-hover: oklch(0.980 0.008 70);
  --table-row-alt-background: oklch(0.988 0.006 70);

  /* Properties / frontmatter */
  --metadata-label-text-color: oklch(0.420 0.015 60);
  --metadata-input-text-color: oklch(0.200 0.015 60);

  /* Paragraph spacing */
  --p-spacing: 0.75rem;
  --line-width: 42rem;
}

/* ==========================================================================
   DARK MODE
   ========================================================================== */

.theme-dark {
  color-scheme: dark;
  --highlight-mix-blend-mode: lighten;
  --mono-rgb-0: 0, 0, 0;
  --mono-rgb-100: 255, 255, 255;

  /* Color base scale — warm dark neutrals from Delightful (hue 65 amber) */
  --color-base-00: oklch(0.140 0.014 65);      /* bg-page */
  --color-base-05: oklch(0.152 0.014 65);      /* interpolated */
  --color-base-10: oklch(0.165 0.015 65);      /* bg-surface */
  --color-base-20: oklch(0.180 0.013 65);      /* bg-muted */
  --color-base-25: oklch(0.190 0.015 65);      /* bg-elevated */
  --color-base-30: oklch(0.210 0.015 65);      /* bg-subtle */
  --color-base-35: oklch(0.270 0.015 65);      /* interpolated */
  --color-base-40: oklch(0.330 0.015 65);      /* border-subtle */
  --color-base-50: oklch(0.430 0.012 65);      /* interpolated */
  --color-base-60: oklch(0.540 0.010 70);      /* text-muted */
  --color-base-70: oklch(0.690 0.012 70);      /* text-secondary */
  --color-base-100: oklch(0.935 0.008 70);     /* text-primary */

  /* Accent (pink default) — dark mode adjusted */
  --accent-h: 340;
  --accent-s: 65%;
  --accent-l: 60%;

  /* Extended semantic colors — dark adjusted */
  --color-red: oklch(0.660 0.200 20);
  --color-red-rgb: 235, 100, 75;
  --color-orange: oklch(0.720 0.150 55);
  --color-orange-rgb: 220, 145, 50;
  --color-yellow: oklch(0.840 0.170 85);
  --color-yellow-rgb: 215, 195, 50;
  --color-green: oklch(0.680 0.155 148);
  --color-green-rgb: 52, 195, 108;
  --color-cyan: oklch(0.720 0.140 210);
  --color-cyan-rgb: 55, 175, 200;
  --color-blue: oklch(0.700 0.230 350);
  --color-blue-rgb: 80, 100, 235;
  --color-purple: oklch(0.600 0.170 300);
  --color-purple-rgb: 160, 80, 220;
  --color-pink: oklch(0.700 0.230 350);
  --color-pink-rgb: 220, 85, 155;

  /* Neo-brutalist shadows — warm inverted (cream on dark) */
  --shadow-s: 2px 2px 0 oklch(0.92 0.010 65);
  --shadow-l: 4px 4px 0 oklch(0.92 0.010 65);

  /* Accent color */
  --color-accent: oklch(0.700 0.230 350);
  --color-accent-hover: oklch(0.740 0.220 350);

  /* Background modifiers */
  --background-modifier-hover: oklch(0.210 0.015 65);
  --background-modifier-active-hover: oklch(0.230 0.015 65);
  --background-modifier-border: oklch(0.330 0.015 65);
  --background-modifier-border-hover: oklch(0.380 0.015 65);
  --background-modifier-border-focus: oklch(0.700 0.230 350);
  --background-modifier-error: oklch(0.250 0.055 20);
  --background-modifier-error-hover: oklch(0.280 0.065 20);
  --background-modifier-success: oklch(0.250 0.048 148);
  --background-modifier-message: oklch(0.250 0.065 350);
  --background-modifier-form-field: oklch(0.190 0.015 65);
  --background-modifier-box-shadow: oklch(0.92 0.010 65 / 0.3);
  --background-modifier-cover: oklch(0 0 0 / 0.60);

  /* Text */
  --text-normal: oklch(0.935 0.008 70);
  --text-muted: oklch(0.690 0.012 70);
  --text-faint: oklch(0.540 0.010 70);
  --text-on-accent: oklch(1.00 0.000 0);
  --text-on-accent-inverted: oklch(0.935 0.008 70);
  --text-error: oklch(0.720 0.180 20);
  --text-success: oklch(0.740 0.145 148);
  --text-warning: oklch(0.870 0.155 85);
  --text-accent: oklch(0.750 0.210 350);
  --text-accent-hover: oklch(0.780 0.200 350);

  --text-highlight-bg: oklch(0.840 0.170 85 / 0.4);
  --text-highlight-bg-active: oklch(0.720 0.150 55 / 0.4);
  --text-selection: oklch(0.700 0.230 350 / 0.3);

  /* Bold / italic */
  --bold-color: oklch(0.960 0.006 70);
  --italic-color: inherit;

  /* Interactive */
  --interactive-normal: oklch(0.165 0.015 65);
  --interactive-hover: oklch(0.210 0.015 65);
  --interactive-accent: oklch(0.700 0.230 350);
  --interactive-accent-hover: oklch(0.740 0.220 350);

  /* Inputs */
  --input-shadow: 2px 2px 0 oklch(0.92 0.010 65);
  --input-shadow-hover: 4px 4px 0 oklch(0.700 0.230 350);

  /* Code */
  --code-normal: oklch(0.720 0.180 20);
  --code-background: oklch(0.210 0.015 65);

  /* Tags */
  --tag-color: oklch(0.750 0.210 350);
  --tag-color-hover: oklch(0.780 0.200 350);
  --tag-background: oklch(0.250 0.065 350);
  --tag-background-hover: oklch(0.280 0.075 350);

  /* Links */
  --link-color: oklch(0.750 0.210 350);
  --link-color-hover: oklch(0.780 0.200 350);
  --link-decoration: underline;
  --link-decoration-hover: underline;
  --link-external-color: oklch(0.750 0.210 350);
  --link-external-color-hover: oklch(0.780 0.200 350);
  --link-external-decoration: underline;
  --link-unresolved-color: oklch(0.540 0.010 70);
  --link-unresolved-opacity: 0.7;

  /* Headings */
  --h1-color: oklch(0.935 0.008 70);
  --h2-color: oklch(0.935 0.008 70);
  --h3-color: oklch(0.900 0.010 70);
  --h4-color: oklch(0.850 0.010 70);
  --h5-color: oklch(0.800 0.010 70);
  --h6-color: oklch(0.690 0.012 70);

  /* Inline title */
  --inline-title-color: oklch(0.935 0.008 70);
  --inline-title-size: 2.488em;
  --inline-title-weight: 800;

  /* Navigation */
  --nav-item-color: oklch(0.690 0.012 70);
  --nav-item-color-hover: oklch(0.935 0.008 70);
  --nav-item-color-active: oklch(0.750 0.210 350);
  --nav-item-color-selected: oklch(0.935 0.008 70);
  --nav-item-background-hover: oklch(0.210 0.015 65);
  --nav-item-background-active: oklch(0.230 0.015 65);
  --nav-indentation-guide-color: oklch(0.330 0.015 65);

  /* Blockquote */
  --blockquote-border-color: oklch(0.700 0.230 350);
  --blockquote-color: oklch(0.690 0.012 70);
  --blockquote-background-color: oklch(0.165 0.015 65);

  /* Table */
  --table-header-background: oklch(0.180 0.013 65);
  --table-row-background-hover: oklch(0.190 0.015 65);
  --table-row-alt-background: oklch(0.152 0.014 65);

  /* Properties / frontmatter */
  --metadata-label-text-color: oklch(0.690 0.012 70);
  --metadata-input-text-color: oklch(0.935 0.008 70);

  /* Paragraph spacing */
  --p-spacing: 0.75rem;
  --line-width: 42rem;
}

/* ==========================================================================
   TYPOGRAPHY, LAYOUT & GLOBAL BODY VARIABLES
   ========================================================================== */

body {
  --font-interface-theme: 'Inter', system-ui, -apple-system, sans-serif;
  --font-text-theme: 'Inter', system-ui, -apple-system, sans-serif;
  --font-monospace-theme: 'JetBrains Mono', ui-monospace, 'Cascadia Code', monospace;

  /* Heading scale — from Delightful fluid type steps */
  --h1-size: 2.488em;
  --h2-size: 2.074em;
  --h3-size: 1.728em;
  --h4-size: 1.44em;
  --h5-size: 1.2em;
  --h6-size: 1em;

  /* Heading weights — variable font weights for Inter */
  --h1-weight: 800;
  --h2-weight: 700;
  --h3-weight: 650;
  --h4-weight: 620;
  --h5-weight: 600;
  --h6-weight: 600;

  /* Heading line-heights */
  --h1-line-height: 1.15;
  --h2-line-height: 1.15;
  --h3-line-height: 1.15;
  --h4-line-height: 1.3;
  --h5-line-height: 1.3;
  --h6-line-height: 1.55;

  /* Neo-brutalist radii — larger than Obsidian defaults */
  --radius-s: 10px;
  --radius-m: 16px;
  --radius-l: 24px;
  --radius-xl: 32px;

  /* Thicker borders */
  --border-width: 2px;

  /* Line height */
  --line-height-normal: 1.55;
  --line-height-tight: 1.15;

  /* Bold */
  --bold-weight: 700;

  /* Inputs */
  --input-radius: 10px;
  --input-border-width: 2px;

  /* Checkbox */
  --checkbox-radius: 4px;
  --checkbox-border-color: var(--color-base-100);
  --checkbox-border-color-hover: var(--interactive-accent);

  /* Modal */
  --modal-radius: 24px;
  --modal-border-width: 2px;

  /* Blockquote */
  --blockquote-border-thickness: 3px;

  /* Horizontal rule */
  --hr-thickness: 2px;

  /* Tags — pill-shaped */
  --tag-radius: 9999px;
  --tag-border-width: 0px;
  --tag-padding-x: 0.65em;
  --tag-padding-y: 0.25em;

  /* Toggle */
  --toggle-border-width: 2px;
  --toggle-radius: 9999px;
  --toggle-thumb-radius: 50%;

  /* Tab */
  --tab-radius: 10px;
  --tab-radius-active: 10px 10px 0 0;

  /* Callout */
  --callout-radius: 16px;
  --callout-border-width: 2px;

  /* Font rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

/* ==========================================================================
   HEADING LETTER-SPACING
   ========================================================================== */

.markdown-rendered h1,
.markdown-rendered h2,
.cm-header-1,
.cm-header-2,
.inline-title {
  letter-spacing: -0.03em;
}

.markdown-rendered h3,
.markdown-rendered h4,
.cm-header-3,
.cm-header-4 {
  letter-spacing: -0.02em;
}

/* ==========================================================================
   NEO-BRUTALIST COMPONENT OVERRIDES
   ========================================================================== */

/* --- Buttons --- */

button.mod-cta,
.mod-cta {
  border: 2px solid var(--color-base-100);
  border-radius: var(--radius-s);
  box-shadow: 2px 2px 0 var(--color-base-100);
  font-weight: 700;
  transition: transform 100ms linear, box-shadow 100ms linear;
}

button.mod-cta:hover,
.mod-cta:hover {
  transform: translateY(-2px);
  box-shadow: 4px 4px 0 var(--color-base-100);
}

button.mod-cta:active,
.mod-cta:active {
  transform: translate(2px, 2px);
  box-shadow: 0 0 0 transparent;
}

.theme-dark button.mod-cta,
.theme-dark .mod-cta {
  border-color: oklch(0.935 0.008 70 / 0.2);
  box-shadow: 2px 2px 0 oklch(0.92 0.010 65);
}

.theme-dark button.mod-cta:hover,
.theme-dark .mod-cta:hover {
  box-shadow: 4px 4px 0 oklch(0.92 0.010 65);
}

.theme-dark button.mod-cta:active,
.theme-dark .mod-cta:active {
  box-shadow: 0 0 0 transparent;
}

/* --- Inputs & Textareas --- */

input[type='text'],
input[type='search'],
input[type='email'],
input[type='password'],
input[type='number'],
input[type='url'],
textarea,
.dropdown {
  border: 2px solid var(--color-base-40);
  border-radius: var(--radius-s);
  box-shadow: var(--input-shadow);
  transition: border-color 160ms cubic-bezier(0.16, 1, 0.3, 1),
              box-shadow 100ms linear;
}

input[type='text']:focus,
input[type='search']:focus,
input[type='email']:focus,
input[type='password']:focus,
input[type='number']:focus,
input[type='url']:focus,
textarea:focus,
.dropdown:focus {
  border-color: var(--interactive-accent);
  box-shadow: var(--input-shadow-hover);
  outline: none;
}

/* --- Modals --- */

.modal-container .modal {
  border: 2px solid var(--color-base-40);
  border-radius: var(--modal-radius);
  box-shadow: 8px 8px 0 var(--color-base-100);
}

.theme-dark .modal-container .modal {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 8px 8px 0 oklch(0.92 0.010 65);
}

.modal-close-button {
  border-radius: var(--radius-s);
}

/* --- Settings modal --- */

.modal.mod-settings .vertical-tab-header {
  border-right: 2px solid var(--background-modifier-border);
}

/* --- Menus --- */

.menu {
  border: 2px solid var(--color-base-40);
  border-radius: var(--radius-m);
  box-shadow: 4px 4px 0 var(--color-base-100);
  padding: 4px;
}

.theme-dark .menu {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 4px 4px 0 oklch(0.92 0.010 65);
}

.menu-item {
  border-radius: var(--radius-s);
}

/* --- Suggestion / autocomplete popups --- */

.suggestion-container {
  border: 2px solid var(--color-base-40);
  border-radius: var(--radius-m);
  box-shadow: 4px 4px 0 var(--color-base-100);
}

.theme-dark .suggestion-container {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 4px 4px 0 oklch(0.92 0.010 65);
}

.suggestion-item {
  border-radius: var(--radius-s);
}

/* --- Tooltips --- */

.tooltip {
  border: 2px solid var(--color-base-100);
  border-radius: var(--radius-s);
  box-shadow: 2px 2px 0 var(--color-base-100);
}

.theme-dark .tooltip {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 2px 2px 0 oklch(0.92 0.010 65);
}

/* --- Callouts --- */

.callout {
  border: 2px solid var(--color-base-40);
  border-radius: var(--callout-radius);
  box-shadow: 2px 2px 0 var(--color-base-100);
  overflow: hidden;
}

.theme-dark .callout {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 2px 2px 0 oklch(0.92 0.010 65);
}

/* --- Code blocks --- */

.markdown-rendered pre,
.cm-s-obsidian .HyperMD-codeblock-bg {
  border-radius: var(--radius-s);
}

.markdown-rendered pre {
  border: 2px solid var(--color-base-40);
  box-shadow: 2px 2px 0 var(--color-base-100);
}

.theme-dark .markdown-rendered pre {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 2px 2px 0 oklch(0.92 0.010 65);
}

/* Inline code */
.markdown-rendered code:not(pre code),
.cm-s-obsidian span.cm-inline-code {
  border-radius: 6px;
  padding: 0.15em 0.35em;
}

/* --- Tables --- */

.markdown-rendered table {
  border: 2px solid var(--color-base-40);
  border-radius: var(--radius-m);
  overflow: hidden;
  border-collapse: separate;
  border-spacing: 0;
}

.theme-dark .markdown-rendered table {
  border-color: oklch(0.330 0.015 65);
}

.markdown-rendered th {
  font-weight: 600;
  font-size: 0.6875rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  border-bottom: 2px solid var(--color-base-40);
}

.theme-dark .markdown-rendered th {
  border-bottom-color: oklch(0.330 0.015 65);
}

.markdown-rendered td,
.markdown-rendered th {
  border-right: 1px solid var(--background-modifier-border);
}

.markdown-rendered td:last-child,
.markdown-rendered th:last-child {
  border-right: none;
}

/* --- Checkboxes --- */

input[type='checkbox'] {
  border: 2px solid var(--color-base-100);
  border-radius: var(--checkbox-radius);
  transition: background-color 160ms cubic-bezier(0.16, 1, 0.3, 1),
              border-color 160ms cubic-bezier(0.16, 1, 0.3, 1);
}

input[type='checkbox']:checked {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

.theme-dark input[type='checkbox'] {
  border-color: oklch(0.540 0.010 70);
}

/* --- Sidebar navigation --- */

.nav-file-title,
.nav-folder-title {
  border-radius: var(--radius-s);
  transition: background-color 160ms cubic-bezier(0.16, 1, 0.3, 1);
}

.nav-file-title.is-active,
.nav-folder-title.is-active {
  font-weight: 550;
}

/* --- Tabs --- */

.workspace-tab-header {
  border-radius: var(--tab-radius) var(--tab-radius) 0 0;
}

/* --- Scrollbars --- */

::-webkit-scrollbar-thumb {
  border-radius: 9999px;
}

/* --- Focus rings --- */

*:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

/* --- Search --- */

.search-result-file-title {
  border-radius: var(--radius-s);
}

/* --- Prompt (command palette) --- */

.prompt {
  border: 2px solid var(--color-base-40);
  border-radius: var(--radius-l);
  box-shadow: 8px 8px 0 var(--color-base-100);
}

.theme-dark .prompt {
  border-color: oklch(0.330 0.015 65);
  box-shadow: 8px 8px 0 oklch(0.92 0.010 65);
}

/* --- Status bar --- */

.status-bar {
  font-size: 0.75rem;
  border-top: 2px solid var(--background-modifier-border);
}

/* --- Dividers --- */

hr {
  border-color: var(--color-base-40);
}

/* --- Embedded/transclusion blocks --- */

.markdown-embed {
  border: 2px solid var(--color-base-40);
  border-radius: var(--radius-m);
}

.theme-dark .markdown-embed {
  border-color: oklch(0.330 0.015 65);
}

/* --- Graph view --- */

.graph-view.color-fill {
  color: var(--interactive-accent);
}

.graph-view.color-line {
  color: var(--color-base-35);
}

/* ==========================================================================
   STYLE SETTINGS — ACCENT COLOR VARIANTS
   ========================================================================== */

/* Danger accent */
body.accent-danger {
  --accent-h: 15;
  --accent-s: 85%;
  --accent-l: 50%;
  --color-accent: var(--d-danger);
  --color-accent-hover: var(--d-danger-hover);
  --interactive-accent: var(--d-danger);
  --interactive-accent-hover: var(--d-danger-hover);
  --text-accent: var(--d-danger-text);
  --text-accent-hover: oklch(0.500 0.230 20);
  --link-color: var(--d-danger-text);
  --link-color-hover: oklch(0.500 0.230 20);
  --link-external-color: var(--d-danger-text);
  --link-external-color-hover: oklch(0.500 0.230 20);
  --tag-color: var(--d-danger-text);
  --tag-background: var(--d-danger-subtle);
  --nav-item-color-active: var(--d-danger-text);
  --blockquote-border-color: var(--d-danger);
}

body.theme-dark.accent-danger {
  --accent-l: 55%;
  --color-accent: oklch(0.660 0.200 20);
  --color-accent-hover: oklch(0.700 0.190 20);
  --interactive-accent: oklch(0.660 0.200 20);
  --interactive-accent-hover: oklch(0.700 0.190 20);
  --text-accent: oklch(0.720 0.180 20);
  --text-accent-hover: oklch(0.750 0.170 20);
  --link-color: oklch(0.720 0.180 20);
  --link-color-hover: oklch(0.750 0.170 20);
  --link-external-color: oklch(0.720 0.180 20);
  --link-external-color-hover: oklch(0.750 0.170 20);
  --tag-color: oklch(0.720 0.180 20);
  --tag-background: oklch(0.250 0.055 20);
  --nav-item-color-active: oklch(0.720 0.180 20);
  --blockquote-border-color: oklch(0.660 0.200 20);
}

/* Gold accent */
body.accent-gold {
  --accent-h: 45;
  --accent-s: 90%;
  --accent-l: 50%;
  --color-accent: var(--d-gold);
  --color-accent-hover: var(--d-gold-hover);
  --interactive-accent: var(--d-gold);
  --interactive-accent-hover: var(--d-gold-hover);
  --text-accent: var(--d-gold-text);
  --text-accent-hover: oklch(0.380 0.140 85);
  --text-on-accent: oklch(0.220 0.020 70);
  --link-color: var(--d-gold-text);
  --link-color-hover: oklch(0.380 0.140 85);
  --link-external-color: var(--d-gold-text);
  --link-external-color-hover: oklch(0.380 0.140 85);
  --tag-color: var(--d-gold-text);
  --tag-background: var(--d-gold-subtle);
  --nav-item-color-active: var(--d-gold-text);
  --blockquote-border-color: var(--d-gold);
}

body.theme-dark.accent-gold {
  --accent-l: 60%;
  --color-accent: oklch(0.840 0.170 85);
  --color-accent-hover: oklch(0.870 0.155 84);
  --interactive-accent: oklch(0.840 0.170 85);
  --interactive-accent-hover: oklch(0.870 0.155 84);
  --text-accent: oklch(0.870 0.155 85);
  --text-accent-hover: oklch(0.900 0.145 85);
  --text-on-accent: oklch(0.140 0.014 65);
  --link-color: oklch(0.870 0.155 85);
  --link-color-hover: oklch(0.900 0.145 85);
  --link-external-color: oklch(0.870 0.155 85);
  --link-external-color-hover: oklch(0.900 0.145 85);
  --tag-color: oklch(0.870 0.155 85);
  --tag-background: oklch(0.260 0.065 85);
  --nav-item-color-active: oklch(0.870 0.155 85);
  --blockquote-border-color: oklch(0.840 0.170 85);
}

/* Cyan accent */
body.accent-cyan {
  --accent-h: 200;
  --accent-s: 60%;
  --accent-l: 50%;
  --color-accent: var(--d-cyan);
  --color-accent-hover: var(--d-cyan-hover);
  --interactive-accent: var(--d-cyan);
  --interactive-accent-hover: var(--d-cyan-hover);
  --text-accent: var(--d-cyan-text);
  --text-accent-hover: oklch(0.460 0.155 210);
  --link-color: var(--d-cyan-text);
  --link-color-hover: oklch(0.460 0.155 210);
  --link-external-color: var(--d-cyan-text);
  --link-external-color-hover: oklch(0.460 0.155 210);
  --tag-color: var(--d-cyan-text);
  --tag-background: var(--d-cyan-subtle);
  --nav-item-color-active: var(--d-cyan-text);
  --blockquote-border-color: var(--d-cyan);
}

body.theme-dark.accent-cyan {
  --accent-l: 55%;
  --color-accent: oklch(0.720 0.140 210);
  --color-accent-hover: oklch(0.760 0.130 210);
  --interactive-accent: oklch(0.720 0.140 210);
  --interactive-accent-hover: oklch(0.760 0.130 210);
  --text-accent: oklch(0.780 0.130 210);
  --text-accent-hover: oklch(0.810 0.120 210);
  --link-color: oklch(0.780 0.130 210);
  --link-color-hover: oklch(0.810 0.120 210);
  --link-external-color: oklch(0.780 0.130 210);
  --link-external-color-hover: oklch(0.810 0.120 210);
  --tag-color: oklch(0.780 0.130 210);
  --tag-background: oklch(0.250 0.045 210);
  --nav-item-color-active: oklch(0.780 0.130 210);
  --blockquote-border-color: oklch(0.720 0.140 210);
}

/* Green accent */
body.accent-green {
  --accent-h: 145;
  --accent-s: 55%;
  --accent-l: 45%;
  --color-accent: var(--d-green);
  --color-accent-hover: var(--d-green-hover);
  --interactive-accent: var(--d-green);
  --interactive-accent-hover: var(--d-green-hover);
  --text-accent: var(--d-green-text);
  --text-accent-hover: oklch(0.420 0.170 148);
  --link-color: var(--d-green-text);
  --link-color-hover: oklch(0.420 0.170 148);
  --link-external-color: var(--d-green-text);
  --link-external-color-hover: oklch(0.420 0.170 148);
  --tag-color: var(--d-green-text);
  --tag-background: var(--d-green-subtle);
  --nav-item-color-active: var(--d-green-text);
  --blockquote-border-color: var(--d-green);
}

body.theme-dark.accent-green {
  --accent-l: 52%;
  --color-accent: oklch(0.680 0.155 148);
  --color-accent-hover: oklch(0.720 0.145 148);
  --interactive-accent: oklch(0.680 0.155 148);
  --interactive-accent-hover: oklch(0.720 0.145 148);
  --text-accent: oklch(0.740 0.145 148);
  --text-accent-hover: oklch(0.770 0.135 148);
  --link-color: oklch(0.740 0.145 148);
  --link-color-hover: oklch(0.770 0.135 148);
  --link-external-color: oklch(0.740 0.145 148);
  --link-external-color-hover: oklch(0.770 0.135 148);
  --tag-color: oklch(0.740 0.145 148);
  --tag-background: oklch(0.250 0.048 148);
  --nav-item-color-active: oklch(0.740 0.145 148);
  --blockquote-border-color: oklch(0.680 0.155 148);
}

/* ==========================================================================
   STYLE SETTINGS — SHADOW VARIANTS
   ========================================================================== */

/* Subtle shadows */
body.shadow-subtle .modal-container .modal {
  box-shadow: 4px 4px 0 oklch(0.180 0.010 80 / 0.15);
}
body.shadow-subtle .menu,
body.shadow-subtle .suggestion-container {
  box-shadow: 2px 2px 0 oklch(0.180 0.010 80 / 0.15);
}
body.shadow-subtle .prompt {
  box-shadow: 4px 4px 0 oklch(0.180 0.010 80 / 0.15);
}
body.shadow-subtle button.mod-cta {
  box-shadow: 1px 1px 0 oklch(0.180 0.010 80 / 0.15);
}
body.shadow-subtle .callout,
body.shadow-subtle .markdown-rendered pre {
  box-shadow: 1px 1px 0 oklch(0.180 0.010 80 / 0.15);
}
body.shadow-subtle .tooltip {
  box-shadow: 1px 1px 0 oklch(0.180 0.010 80 / 0.15);
}

/* No shadows */
body.shadow-none .modal-container .modal,
body.shadow-none .menu,
body.shadow-none .suggestion-container,
body.shadow-none .prompt,
body.shadow-none button.mod-cta,
body.shadow-none .callout,
body.shadow-none .markdown-rendered pre,
body.shadow-none .tooltip,
body.shadow-none input[type='text'],
body.shadow-none input[type='search'],
body.shadow-none input[type='email'],
body.shadow-none input[type='password'],
body.shadow-none input[type='number'],
body.shadow-none input[type='url'],
body.shadow-none textarea,
body.shadow-none .dropdown {
  box-shadow: none;
}

/* ==========================================================================
   STYLE SETTINGS — BORDER WEIGHT VARIANT
   ========================================================================== */

body.border-subtle {
  --border-width: 1px;
  --input-border-width: 1px;
  --modal-border-width: 1px;
  --callout-border-width: 1px;
}

body.border-subtle .modal-container .modal,
body.border-subtle .menu,
body.border-subtle .suggestion-container,
body.border-subtle .prompt,
body.border-subtle button.mod-cta,
body.border-subtle .callout,
body.border-subtle .markdown-rendered pre,
body.border-subtle .tooltip,
body.border-subtle .markdown-rendered table,
body.border-subtle .markdown-embed,
body.border-subtle .status-bar,
body.border-subtle input[type='text'],
body.border-subtle input[type='search'],
body.border-subtle input[type='email'],
body.border-subtle input[type='password'],
body.border-subtle input[type='number'],
body.border-subtle input[type='url'],
body.border-subtle textarea,
body.border-subtle .dropdown,
body.border-subtle input[type='checkbox'] {
  border-width: 1px;
}

/* ==========================================================================
   REDUCED MOTION
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  button.mod-cta:hover,
  .mod-cta:hover {
    transform: none;
  }

  button.mod-cta:active,
  .mod-cta:active {
    transform: none;
  }

  *,
  *::before,
  *::after {
    transition-duration: 0.01ms !important;
  }
}
